# EarthLord - 产品需求文档 (PRD)
**Product Requirements Document**

---

## 1. 产品概述

### 1.1 产品定位
EarthLord是一款基于真实地理位置的末日生存类移动游戏，采用"Walk to Earn"机制，结合GPS圈地、POI探索、资源管理和社交互动，为玩家提供沉浸式的末日重建体验。

### 1.2 产品愿景
打造全球首款"希望朋克"风格的LBS生存游戏，让玩家通过真实世界的探索，在虚拟世界中重建文明，实现线上线下深度融合的游戏体验。

### 1.3 核心价值主张
- **Walk to Earn**: 走路即可获得游戏资源，鼓励健康生活方式
- **真实地标探索**: 基于真实POI的探索玩法，让游戏融入日常生活
- **社交互动**: 基于地理位置的玩家交互，建立本地社区
- **商业变现**: 订阅制+内购的多元化收入模式

---

## 2. 目标用户

### 2.1 核心用户画像

#### 主要用户群体
1. **户外运动爱好者** (25-35岁)
   - 喜欢跑步、骑行、徒步
   - 使用Keep、悦跑圈等运动App
   - 追求游戏化的运动激励

2. **轻度游戏玩家** (20-40岁)
   - 上下班通勤时间充裕
   - 喜欢宝可梦GO类LBS游戏
   - 愿意为游戏体验付费

3. **社交型玩家** (18-30岁)
   - 喜欢探索城市新地点
   - 享受与其他玩家互动
   - 活跃于游戏社区

### 2.2 用户需求分析
| 用户类型 | 核心需求 | 痛点 | 我们的解决方案 |
|---------|---------|------|--------------|
| 运动爱好者 | 运动激励和数据记录 | 运动枯燥缺乏动力 | GPS圈地+探索奖励+成就系统 |
| 游戏玩家 | 游戏性和社交 | 传统游戏缺乏现实互动 | LBS玩法+公共频道+交易系统 |
| 探索者 | 发现新地点 | 不知道附近有什么 | POI发现+地标搜刮 |
| 社交用户 | 结识同好 | 难以找到附近玩家 | 基于位置的聊天和交易 |

---

## 3. 市场分析

### 3.1 竞品分析
| 产品 | 优势 | 劣势 | 我们的差异化 |
|------|------|------|-------------|
| 宝可梦GO | 品牌强、用户多 | 游戏深度不足 | 更复杂的资源管理和建造系统 |
| Ingress | 社交性强 | 学习曲线陡峭 | 更友好的新手引导和成就系统 |
| Zombies, Run! | 故事性强 | 缺乏社交元素 | 公共频道+交易+联盟系统 |

### 3.2 市场规模
- 全球LBS游戏市场规模: $10B+ (2025年)
- 宝可梦GO累计收入: $60亿
- iOS App Store覆盖: 175个国家和地区
- 目标市场: 全球户外运动和轻度游戏玩家

---

## 4. 核心功能需求

### 4.1 功能架构图
```
EarthLord
├── 用户系统
│   ├── 登录注册 (邮箱/Apple/Google)
│   └── 用户档案管理
├── 地图与圈地系统
│   ├── GPS定位与追踪
│   ├── 圈地绘制与验证
│   └── 领地管理
├── 探索系统
│   ├── POI发现 (基于真实地标)
│   ├── 地理围栏触发
│   └── 资源搜刮
├── 资源管理
│   ├── 背包系统 (容量100)
│   ├── 资源分类与统计
│   └── 本地优先架构
├── 建造系统
│   ├── 15种建筑 (生存/储存/生产/能源)
│   ├── 资源消耗验证
│   ├── 建筑状态机
│   └── 建筑升级系统
├── 交易系统
│   ├── 物品挂单
│   ├── 基于位置的交易发现
│   └── 以物易物机制
├── 通讯系统
│   ├── 消息中心 (官方公告)
│   ├── 公共频道 (3km范围)
│   ├── 私人频道 (群组)
│   ├── PTT呼叫 (对讲机模式)
│   └── 设备等级系统
├── 社交与竞技
│   ├── 排行榜 (领地/探索/建筑)
│   ├── 成就系统
│   └── 联盟系统 (未来版本)
├── 生存系统
│   ├── 生命值
│   ├── 饱食度
│   ├── 水分
│   └── 时间衰减机制
└── 商业化系统
    ├── 订阅制 (月卡 $9.99, 通行证 $19.99)
    ├── 资源包内购 ($0.99-$9.99)
    └── 设备升级付费
```

### 4.2 功能优先级 (MoSCoW方法)

#### Must Have (P0 - MVP必须)
1. **用户系统**: 邮箱注册、Apple登录
2. **GPS圈地**: 定位、轨迹绘制、领地验证
3. **POI探索**: 地标发现、资源搜刮
4. **背包系统**: 资源存储、查看
5. **基础建造**: 至少5种建筑
6. **个人中心**: 用户档案、领地列表

#### Should Have (P1 - 第一次迭代)
7. **交易系统**: 挂单、交易匹配
8. **消息中心**: 系统通知
9. **公共频道**: 3km范围聊天
10. **成就系统**: 新手引导成就
11. **排行榜**: 领地面积榜
12. **内购系统**: 资源包

#### Could Have (P2 - 第二次迭代)
13. **频道管理**: 创建/加入私人频道
14. **PTT呼叫**: 对讲机模式
15. **设备升级**: 收音机→对讲机→电台
16. **生存体征**: 饱食度、水分、生命值
17. **建筑升级**: Tier 1-3升级路径
18. **订阅系统**: 月卡、通行证

#### Won't Have (P3 - 未来版本)
19. 联盟系统
20. PVP对战
21. 跨服交易
22. AR模式

---

## 5. 技术需求

### 5.1 技术栈
| 层级 | 技术选型 | 理由 |
|------|---------|------|
| 平台 | iOS (SwiftUI) | App Store全球覆盖，用户付费意愿高 |
| 地图 | Apple MapKit | 免费、全球可用、无调用次数限制 |
| 后端 | Supabase | 免费额度大、自带Auth、实时推送、PostGIS支持 |
| 数据库 | PostgreSQL + PostGIS | 地理空间数据查询、多边形运算 |
| 认证 | Supabase Auth | OAuth开箱即用 |
| 消息 | Supabase Realtime | WebSocket实时推送 |
| 支付 | StoreKit 2 | 苹果官方、安全可靠 |
| 本地存储 | Core Data | 离线优先架构 |

### 5.2 性能指标
- GPS定位精度: ±5米
- 地理围栏触发延迟: <30秒
- 消息推送延迟: <3秒
- 排行榜刷新: 5分钟缓存
- 背包容量: 100格
- 最大领地面积: 100,000m²
- 支持并发用户: 100,000+

### 5.3 数据安全
- 用户密码: bcrypt加密存储
- API通信: HTTPS + JWT
- 敏感数据: 端到端加密
- 隐私合规: GDPR、CCPA

---

## 6. 用户体验设计

### 6.1 视觉风格
**"希望朋克" (Hopepunk)**
- 主色调: 废土灰 + 新生绿 + 科技蓝
- 设计元素: 破败建筑 + 生长植物 + 霓虹标志
- 情感基调: 绝望中的希望、废墟上的重建

### 6.2 核心交互流程

#### 新用户首次体验 (FTUE)
```
1. 启动App → 世界观CG动画 (30秒)
2. 选择登录方式 → Apple登录 (一键)
3. 新手教程:
   - 圈第一块地 (300m² 小圈即可)
   - 探索第一个POI
   - 建造第一个篝火
   - 完成成就获得奖励
4. 进入游戏主界面
```

#### 日常游戏循环
```
上班路上:
→ 打开App → 圈地扩张领土
→ 途经咖啡店 → 触发POI → 搜刮获得食物

午休时间:
→ 查看背包 → 资源充足 → 建造新建筑
→ 浏览交易市场 → 用罐头换药品

下班路上:
→ 探索新的POI → 获得稀有材料
→ 公共频道聊天 → 认识附近玩家

睡前:
→ 查看排行榜 → 排名上升 → 获得成就感
→ 检查生存体征 → 使用食物/水 → 保持状态
```

### 6.3 多语言支持
- 简体中文
- 繁体中文
- English
- 日本語 (未来)
- 한국어 (未来)

---

## 7. 商业模式

### 7.1 收入模式

#### 订阅制 (主要收入来源)
| 套餐 | 价格 | 权益 | 目标用户 |
|------|------|------|---------|
| 开拓者月卡 | $9.99/月 | 探索次数无限、范围+50%、资源+20% | 中度玩家 |
| 领主通行证 | $19.99/月 | 全部特权、专属皮肤、优先客服 | 重度玩家 |

#### 内购 (辅助收入)
- 初级物资包: $0.99 (食物×50、水×50)
- 中级物资包: $2.99 (药品×20、工具×10)
- 高级物资包: $4.99 (稀有材料×5)
- 设备升级: $9.99 (解锁卫星通讯)

### 7.2 收入预测 (第一年)
假设:
- 下载量: 100,000 (保守估计)
- 付费转化率: 3%
- ARPPU (付费用户平均收入): $50/年

计算:
- 付费用户: 100,000 × 3% = 3,000人
- 年收入: 3,000 × $50 = $150,000

### 7.3 成本结构
| 项目 | 月成本 | 年成本 | 备注 |
|------|--------|--------|------|
| Supabase | $0-25 | $0-300 | 免费额度足够早期 |
| Apple Developer | - | $99 | 开发者账号 |
| 云服务 | $50-200 | $600-2,400 | CDN、存储 |
| AI辅助开发 | $20 | $240 | Claude Pro |
| 合计 | $70-245 | $939-3,039 | - |

**净利润预测**: $147,000 - $149,000 (第一年)

---

## 8. 产品路线图

### Phase 1: MVP (2个月)
**目标**: 验证核心玩法，获取种子用户
- 登录注册、GPS圈地、POI探索
- 背包、基础建造
- 个人中心
- 简体中文版
- 发布TestFlight内测

### Phase 2: 社交与变现 (1个月)
**目标**: 增加社交粘性，开启商业化
- 交易系统、公共频道
- 成就系统、排行榜
- 内购系统 (资源包)
- 正式上架App Store

### Phase 3: 深度玩法 (1个月)
**目标**: 提升留存，增加ARPU
- 频道管理、PTT呼叫
- 生存体征系统
- 订阅制 (月卡/通行证)
- 英文版上线

### Phase 4: 全球化 (持续)
**目标**: 扩大市场，提升收入
- 多语言支持 (日/韩/西班牙语)
- 联盟系统
- 赛季系统
- AR模式探索

---

## 9. 成功指标 (KPI)

### 9.1 用户增长指标
- **DAU** (日活): 目标 10,000+ (第6个月)
- **MAU** (月活): 目标 50,000+ (第6个月)
- **留存率**:
  - 次日留存: >40%
  - 7日留存: >20%
  - 30日留存: >10%

### 9.2 用户参与度
- **日均圈地次数**: 1.5次/DAU
- **日均探索POI**: 2次/DAU
- **日均建造次数**: 0.5次/DAU
- **日均聊天消息**: 5条/DAU
- **平均游戏时长**: 15分钟/天

### 9.3 商业化指标
- **付费转化率**: 3-5%
- **ARPU** (人均收入): $1.5/月
- **ARPPU** (付费用户收入): $50/年
- **LTV** (用户生命周期价值): $150
- **CAC** (获客成本): <$30

### 9.4 技术指标
- **App崩溃率**: <0.5%
- **GPS定位成功率**: >95%
- **消息送达率**: >99%
- **API响应时间**: <500ms
- **启动时间**: <3秒

---

## 10. 风险与应对

### 10.1 产品风险
| 风险 | 影响 | 概率 | 应对策略 |
|------|------|------|---------|
| 用户不愿意外出 | 高 | 中 | 增加室内玩法、模拟器模式 |
| 隐私担忧 | 高 | 中 | 透明化数据使用、最小化收集 |
| 玩法单调 | 中 | 高 | 持续更新内容、赛季机制 |
| 付费意愿低 | 高 | 中 | 优化价值感知、限时优惠 |

### 10.2 技术风险
| 风险 | 影响 | 概率 | 应对策略 |
|------|------|------|---------|
| GPS精度不足 | 高 | 低 | 多传感器融合、滤波算法 |
| Supabase服务中断 | 高 | 低 | 本地优先架构、数据缓存 |
| 数据库性能瓶颈 | 中 | 中 | 索引优化、读写分离 |
| 作弊行为 | 中 | 高 | GPS防作弊、行为检测 |

### 10.3 市场风险
| 风险 | 影响 | 概率 | 应对策略 |
|------|------|------|---------|
| 竞品抄袭 | 中 | 高 | 快速迭代、建立壁垒 |
| 政策监管 | 高 | 低 | 合规审查、及时调整 |
| 市场饱和 | 中 | 中 | 差异化定位、垂直深耕 |

---

## 11. 团队与资源

### 11.1 核心团队 (AI辅助开发模式)
- **产品经理/开发者**: 1人 (AI辅助)
  - 使用Claude Code进行iOS开发
  - 日产出: 2,000+ 行代码
  - 开发周期: 3周完成MVP

### 11.2 外部资源
- **UI/UX设计**: 外包或AI生成
- **音效音乐**: 素材库购买
- **翻译**: AI翻译 + 母语者校对
- **运营推广**: 社交媒体 + ASO

---

## 12. 附录

### 12.1 用户故事 (User Stories)

#### 作为新手玩家
- 我希望快速了解游戏玩法，所以需要清晰的新手教程
- 我希望看到进度反馈，所以需要成就系统引导

#### 作为运动爱好者
- 我希望运动有额外激励，所以需要"走路即奖励"机制
- 我希望记录运动轨迹，所以需要GPS追踪和统计

#### 作为社交玩家
- 我希望找到附近玩家，所以需要基于位置的聊天
- 我希望和朋友协作，所以需要频道和联盟系统

#### 作为付费玩家
- 我希望快速成长，所以愿意购买资源包
- 我希望获得特权，所以愿意订阅月卡

### 12.2 术语表
| 术语 | 定义 |
|------|------|
| LBS | Location-Based Service，基于位置的服务 |
| POI | Point of Interest，兴趣点/地标 |
| GPS | Global Positioning System，全球定位系统 |
| Geofencing | 地理围栏，虚拟边界触发 |
| PostGIS | PostgreSQL的地理空间扩展 |
| Walk to Earn | 走路即赚取奖励的机制 |
| FTUE | First Time User Experience，首次用户体验 |
| ARPU | Average Revenue Per User，人均收入 |
| ARPPU | Average Revenue Per Paying User，付费用户人均收入 |
| LTV | Lifetime Value，用户生命周期价值 |

---

## 版本记录
- **v1.0** - 2025-12-24 - 初始版本
- 基于游戏功能详解生成
- 包含21个核心功能模块
- 涵盖MVP到全球化的完整路线图

---

**文档状态**: ✅ 已完成
**最后更新**: 2025-12-24
**负责人**: Product Team
**审批状态**: 待审批
